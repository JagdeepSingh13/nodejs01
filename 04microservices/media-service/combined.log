{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T12:36:06.386Z"}
{"level":"info","message":"Media service running on port 3003","service":"media-service","timestamp":"2025-04-23T12:37:28.002Z"}
{"level":"info","message":"Media service running on port 3003","service":"media-service","timestamp":"2025-04-23T12:37:39.954Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:37:52.123Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:38:05.843Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T12:38:06.370Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:47:10.885Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T12:47:12.395Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:57:35.284Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:57:44.002Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:57:55.090Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:58:14.730Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:58:22.983Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:58:43.122Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:58:49.142Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:59:06.329Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:59:14.751Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:59:25.378Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T12:59:43.239Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:00:10.974Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:00:33.027Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:00:53.596Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T13:00:54.054Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:02:12.524Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:02:33.994Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:02:40.213Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:02:46.688Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:02:59.464Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T13:02:59.867Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-23T13:04:22.238Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T13:04:22.239Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-23T13:04:22.269Z"}
{"level":"error","message":"error uploading post originalName is not defined","service":"media-service","stack":"ReferenceError: originalName is not defined\n    at uploadMedia (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\src\\controller\\media-controller.js:16:39)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\src\\routes\\media-routes.js:45:7\n    at done (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)\n    at indicateDone (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:51:68)\n    at Multipart.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:168:7)\n    at Multipart.emit (node:events:507:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-04-23T13:04:22.272Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:04:41.684Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:04:50.686Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:04:55.611Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:05:00.899Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T13:05:23.481Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:05:25.542Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T13:05:28.069Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-23T13:05:36.950Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T13:05:36.952Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-23T13:05:36.974Z"}
{"level":"error","message":"error uploading media originalName is not defined","service":"media-service","stack":"ReferenceError: originalName is not defined\n    at uploadMedia (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\src\\controller\\media-controller.js:16:39)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\src\\routes\\media-routes.js:45:7\n    at done (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)\n    at indicateDone (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:51:68)\n    at Multipart.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:168:7)\n    at Multipart.emit (node:events:507:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-04-23T13:05:36.977Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:07:30.519Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:07:50.059Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T13:08:05.863Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T13:08:06.782Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-23T13:08:17.701Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T13:08:17.702Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-23T13:08:17.725Z"}
{"level":"info","message":"File details: name=cplogo.png, type=image/png","service":"media-service","timestamp":"2025-04-23T13:08:17.726Z"}
{"level":"info","message":"Uploading to cloudinary, START","service":"media-service","timestamp":"2025-04-23T13:08:17.727Z"}
{"level":"info","message":"Cloudinary upload successfull, Public id: ylynymimrkkhigcqcgea","service":"media-service","timestamp":"2025-04-23T13:08:21.418Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T17:32:57.247Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T17:33:13.535Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T17:33:23.391Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-23T17:33:35.496Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-23T17:33:35.903Z"}
{"level":"info","message":"Received GET request to /api/media/get","service":"media-service","timestamp":"2025-04-23T17:36:24.603Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T17:36:24.604Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-23T17:38:56.979Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T17:38:56.981Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-23T17:38:57.000Z"}
{"level":"info","message":"File details: name=expl.png, type=image/png","service":"media-service","timestamp":"2025-04-23T17:38:57.001Z"}
{"level":"info","message":"Uploading to cloudinary, START","service":"media-service","timestamp":"2025-04-23T17:38:57.002Z"}
{"level":"info","message":"Cloudinary upload successfull, Public id: x3xk1lrv9kqyy6ea4oec","service":"media-service","timestamp":"2025-04-23T17:39:14.210Z"}
{"level":"info","message":"Received GET request to /api/media/get","service":"media-service","timestamp":"2025-04-23T17:39:26.687Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-23T17:39:26.688Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T03:40:01.941Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T03:40:02.024Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T03:40:02.031Z"}
{"beforeHandshake":false,"cause":{"address":"159.41.181.96","code":"ETIMEDOUT","errno":-4039,"port":27017,"syscall":"connect"},"connectionGeneration":1,"errorLabelSet":{},"level":"error","message":"Mongo connection error connect ETIMEDOUT 159.41.181.96:27017","service":"media-service","stack":"MongoNetworkError: connect ETIMEDOUT 159.41.181.96:27017\n    at TLSSocket.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\mongodb\\lib\\cmap\\connect.js:285:44)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24T03:40:44.583Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T03:40:48.866Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T03:40:48.883Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T03:40:48.889Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-24T03:40:49.198Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-24T03:46:26.518Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-24T03:46:26.519Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-24T03:46:26.543Z"}
{"level":"info","message":"File details: name=dmeme.png, type=image/png","service":"media-service","timestamp":"2025-04-24T03:46:26.544Z"}
{"level":"info","message":"Uploading to cloudinary, START","service":"media-service","timestamp":"2025-04-24T03:46:26.545Z"}
{"level":"info","message":"Cloudinary upload successfull, Public id: sk5ndajcnpicpmyx9vmu","service":"media-service","timestamp":"2025-04-24T03:46:44.752Z"}
{"beforeHandshake":false,"cause":{"address":"159.41.181.96","code":"ETIMEDOUT","errno":-4039,"port":27017,"syscall":"connect"},"connectionGeneration":2,"errorLabelSet":{},"level":"error","message":"error uploading media connect ETIMEDOUT 159.41.181.96:27017","service":"media-service","stack":"MongoNetworkError: connect ETIMEDOUT 159.41.181.96:27017\n    at TLSSocket.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\mongodb\\lib\\cmap\\connect.js:285:44)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24T03:47:05.838Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T03:47:19.179Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T03:47:19.201Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T03:47:19.209Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-24T03:47:19.538Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-24T03:47:24.026Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-24T03:47:24.028Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-24T03:47:24.052Z"}
{"level":"info","message":"File details: name=dmeme.png, type=image/png","service":"media-service","timestamp":"2025-04-24T03:47:24.053Z"}
{"level":"info","message":"Uploading to cloudinary, START","service":"media-service","timestamp":"2025-04-24T03:47:24.056Z"}
{"level":"info","message":"Cloudinary upload successfull, Public id: wgxp0rndhcb8gc14iunp","service":"media-service","timestamp":"2025-04-24T03:47:29.329Z"}
{"level":"info","message":"Received GET request to /api/media/get","service":"media-service","timestamp":"2025-04-24T03:53:37.103Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-24T03:53:37.104Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:00:13.866Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:00:13.930Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:00:13.937Z"}
{"beforeHandshake":false,"cause":{"address":"159.41.181.96","code":"ETIMEDOUT","errno":-4039,"port":27017,"syscall":"connect"},"connectionGeneration":1,"errorLabelSet":{},"level":"error","message":"Mongo connection error connect ETIMEDOUT 159.41.181.96:27017","service":"media-service","stack":"MongoNetworkError: connect ETIMEDOUT 159.41.181.96:27017\n    at TLSSocket.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\mongodb\\lib\\cmap\\connect.js:285:44)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24T04:00:56.548Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:01:06.820Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:01:06.841Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:01:06.850Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-24T04:01:07.063Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:05:44.883Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:05:44.947Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:05:44.955Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:05:52.163Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:05:52.186Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:05:52.193Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-24T04:05:52.433Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:10:40.397Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:10:40.416Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:10:40.427Z"}
{"beforeHandshake":false,"cause":{"address":"159.41.181.96","code":"ETIMEDOUT","errno":-4039,"port":27017,"syscall":"connect"},"connectionGeneration":0,"errorLabelSet":{},"level":"error","message":"Mongo connection error connect ETIMEDOUT 159.41.181.96:27017","service":"media-service","stack":"MongoNetworkError: connect ETIMEDOUT 159.41.181.96:27017\n    at TLSSocket.<anonymous> (C:\\Users\\hp\\Desktop\\nodejs01\\04microservices\\media-service\\node_modules\\mongodb\\lib\\cmap\\connect.js:285:44)\n    at Object.onceWrapper (node:events:622:26)\n    at TLSSocket.emit (node:events:507:28)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24T04:11:01.623Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:11:59.010Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:11:59.068Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:11:59.073Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:12:05.196Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:12:05.212Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:12:05.219Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:12:11.072Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:12:11.091Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:12:11.100Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"media-service","timestamp":"2025-04-24T04:12:17.087Z"}
{"level":"info","message":"Subs. to event: post.deleted","service":"media-service","timestamp":"2025-04-24T04:12:17.105Z"}
{"level":"info","message":"Media service running on port: 3003","service":"media-service","timestamp":"2025-04-24T04:12:17.115Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-04-24T04:12:17.420Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-04-24T04:13:50.187Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-04-24T04:13:50.188Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-04-24T04:13:50.211Z"}
{"level":"info","message":"File details: name=spectrum.png, type=image/png","service":"media-service","timestamp":"2025-04-24T04:13:50.212Z"}
{"level":"info","message":"Uploading to cloudinary, START","service":"media-service","timestamp":"2025-04-24T04:13:50.213Z"}
{"level":"info","message":"Cloudinary upload successfull, Public id: jdlloabnd8xk6rutr6us","service":"media-service","timestamp":"2025-04-24T04:13:53.852Z"}
{"0":"j","1":"d","10":"x","11":"k","12":"6","13":"r","14":"u","15":"t","16":"r","17":"6","18":"u","19":"s","2":"l","3":"l","4":"o","5":"a","6":"b","7":"n","8":"d","9":"8","level":"info","message":"Media deleted successfully from cloudinary","service":"media-service","timestamp":"2025-04-24T04:15:28.993Z"}
{"level":"info","message":"Deleted media: 6809ba813f018d0e52a644f9 assos. with post: 6809ba9de0c0b086193563d6","service":"media-service","timestamp":"2025-04-24T04:15:29.028Z"}
